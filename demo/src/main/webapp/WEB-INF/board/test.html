<script>
  document.addEventListener("DOMContentLoaded", function () {
    var postBtn = document.getElementById("postBtn");
    var putJsonBtn = document.getElementById("putJsonBtn");

    postBtn.addEventListener("click", function () {
      var boardNo = document.getElementById("boardNo").value;
      var title = document.getElementById("title").value;
      var content = document.getElementById("content").value;
      var writer = document.getElementById("writer").value;

      var boardObject = {
        boardNo: boardNo,
        title: title,
        content: content,
        writer: writer,
      };

      var xhr = new XMLHttpRequest();
      var url = "/board/" + boardNo;
      xhr.open("POST", url, true); //true: 비동기식, false: 동기식
      xhr.setRequestHeader("Content-Type", "application/json; charset=utf-8");
      xhr.onload = function () {
        if (xhr.status === 200) {
          var result = xhr.responseText;
          console.log("result: " + result);
          if (result === "SUCCESS") {
            alert("SUCCESS");
          } else {
            alert("FAIL");
          }
        } else {
          console.error("Request failed. Status: " + xhr.status);
          // Handle error scenario if needed
        }
      };

      xhr.onerror = function () {
        console.error("Request failed. Network error.");
        // Handle network errors if needed
      };

      xhr.send(JSON.stringify(boardObject));
    });

    putJsonBtn.addEventListener("click", function () {
      var boardNo = document.getElementById("boardNo").value;
      var title = document.getElementById("title").value;
      var content = document.getElementById("content").value;
      var writer = document.getElementById("writer").value;
      var boardObject = {
        boardNo: boardNo,
        title: title,
        content: content,
        writer: writer,
      };

      var xhr = new XMLHttpRequest();
      var url = "/board/" + boardNo;

      xhr.open("PUT", url, true); //true: 비동기식, false: 동기식
      xhr.setRequestHeader("Content-Type", "application/json; charset=utf-8");

      xhr.onload = function () {
        if (xhr.status === 200) {
          var result = xhr.responseText;
          console.log("result: " + result);
          if (result === "SUCCESS") {
            alert("SUCCESS");
          } else {
            alert("FAIL");
          }
        } else {
          console.error("Request failed. Status: " + xhr.status);
          // Handle error scenario if needed
        }
      };

      xhr.onerror = function () {
        console.error("Request failed. Network error.");
        // Handle network errors if needed
      };

      xhr.send(JSON.stringify(boardObject));
    });
  });
</script>
